{% extends "base.html" %}

{% from "macros.html" import form_field %}

{% block extrabody %}
{% endblock %}

{% block content %}

{% if errors %}
<div class="col-md-10 col-md-offset-1 alert alert-danger alert-dismissable">
    <button type="button" class="close" data-dismiss="alert">&times;</button>
    <ul class="unstyled">
    {% for error in errors %}
    <li>{{ error }}</li>
    {% endfor %}
    </ul>
</div>
{% endif %}

<div class="container-fluid">
    
    <div class="panel panel-default">
        <div class="panel-heading">Upload your Gerber Files</div>
        <div class="panel-body">
            <form id="gerber-form" method="POST" enctype="multipart/form-data" class="form-horizontal" role="form">
                {{ form.hidden_tag() }}
                {{ form_field(form.gerbers, multiple=multiple) }}
                {{ form_field(form.soldermask_color) }}
                {{ form_field(form.silkscreen_color) }}
                {{ form_field(form.copper_color) }}
                <div class="form-group">
                    <label class="col-sm-3"></label>
                    <div class="col-sm-2">
                        <input id="go" class="btn btn-primary" type="submit" value="Go!" />
                    </div>
                </div>
            </form> 
        </div>
    </div>
    
    <p>GerbLook is an online <a href="https://en.wikipedia.org/wiki/Gerber_format">gerber file</a> viewer. Gerber files are used for manufacturing printed circuit boards (PCBs). GerbLook will render and display images of the various layers of your PCB which you can use to inspect what your fabricated board will look like.</p>
    <p>How do you use it? Upload a set of gerber files, can be either zipped, rarred or multiple separate gerber files. Select your soldermask, silkscreen and copper colors. Your gerber files are used to generate the images and then deleted.</p>
    
    <p>GerbLook currently supports up to eight copper layers.</p>
    
    <p>Current issues:</p>
    <ul>
        <li>Does not handle panelised files correctly.</li>
        <li>Some outline lines need to be removed.</li>
        <li>Some images are rendered too large.</li>
        <li>A couple of rendering issues with gerbv
            <ul>
                <li>Files generated from Eagle Cad sometimes have horizontal lines running through polygons</li>
                <li>Some curved lines seem to be slightly offset</li>
            </ul>
        </li>
        <li>May not recognise some gerber file names.</li>
        <li><a href="https://github.com/hadleyrich/GerbLook/issues">Post your issue on GitHub</a></li>
    </ul>
    
    <p>If you have an upload that didn't work or other issues or suggestions, feel free to email <a href="mailto:info@nice.net.nz">info@nice.net.nz</a>. Mention GerbLook in the subject and attach the files if you can.</p>
</div>

{% endblock %}
